<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>实现word标注效果</title>
    <style>
        * {
            margin: 0;
            box-sizing: border-box;
        }
        p {
            word-break: break-all;
        }
        .buttons {
            position: sticky;
            top: 0;
            padding: 10px;
            background-color: #fff;
            border-bottom: 1px solid #f4f4f4;
            z-index: 2;
        }
    </style>
    <link rel="stylesheet" href="./css/index.css">
</head>
<body>
    <div class="buttons">
        <button id="add-btn">标注</button>
        <button id="del-btn">删除</button>
        <button id="mount-btn">回显</button>
        <button id="data-btn">数据</button>
        <button id="resize-btn">窗口</button>
        <button id="left-btn">左边</button>
        <button id="right-btn">右边</button>
    </div>
    <div class="dimension-contain">
        <div>
            <p>0</p>
            <p>111111</p>
            <p style="font-size: 50px;">2222222222222222<span>S<span>sss</span>BB</span>666666666666666666666</p>
            <p>3333<span>123x</span>33</p>
            <p>444444</p>
            <p>555555</p>
            <p>666666</p>
            <p>777777</p>
            <p>888888</p>
            <p>999999</p>
        </div>
        <div>00000</div>
        <!-- <div class="dimension-callout"> -->
            <!-- <div class="dimension-line-container"></div>
            <div class="dimension-box-container"></div> -->
        <!-- </div> -->
    </div>
    <script>
        (function () {
            const text = {
                a: 'aaaaa',
                b: 'bbbbb'
            }
            const list = [
                `111<dimension data-key="a"><span class="dimension-side dimension-side-start" data-key="a"></span>aaaa<span class="dimension-side dimension-side-end" data-key="a"></span></dimension>111`,
                `111<dimension data-key="b"><span class="dimension-side dimension-side-start" data-key="b"></span>bbbb<span class="dimension-side dimension-side-end" data-key="b"></span></dimension>111`,
                `333<dimension data-key="c,d"><span class="dimension-side dimension-side-start" data-key="c"></span><span class="dimension-side dimension-side-start" data-key="d"></span>abab<span class="dimension-side dimension-side-end" data-key="d"></span><span class="dimension-side dimension-side-end" data-key="c"></span></dimension>333`,
            ]
            const contain = document.createDocumentFragment()
            list.forEach(item => {
                const p = document.createElement('p')
                p.innerText = item
                contain.appendChild(p)
            })
            document.querySelector('.dimension-contain').appendChild(contain)
        })()
    </script>
    <script type="module">
        import Dimension from './js/dimension.js'
        const dimension = new Dimension('.dimension-contain', {
            direction: 'right',
            resize: true
        })
        document.querySelector('#add-btn').addEventListener('click', () => {
            dimension.add()
        })
        document.querySelector('#del-btn').addEventListener('click', () => {
            dimension.remove()
        })
        document.querySelector('#mount-btn').addEventListener('click', () => {
            dimension.mount()
        })
        document.querySelector('#data-btn').addEventListener('click', () => {
            dimension.getData()
        })
        document.querySelector('#resize-btn').addEventListener('click', () => {
            dimension.resize()
        })
        document.querySelector('#left-btn').addEventListener('click', () => {
            dimension.changeDirection('left')
        })
        document.querySelector('#right-btn').addEventListener('click', () => {
            dimension.changeDirection('right')
        })
    </script>
</body>
</html>